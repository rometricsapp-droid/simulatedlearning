<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ROMetrics | Reset Password</title>

<link rel="icon" type="image/png" sizes="192x192" href="favicon-192.png">
<link rel="apple-touch-icon" sizes="192x192" href="favicon-192.png">

<style>
:root {
  --bg:#0b1120;
  --card:#1e293b;
  --primary:#38bdf8;
  --text:#f8fafc;
  --text-muted:#94a3b8;
  --border:#334155;
  --error:#fb7185;
}

*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{
  margin:0;min-height:100vh;
  font-family:system-ui,-apple-system,sans-serif;
  background:var(--bg);color:var(--text);
  display:flex;align-items:center;justify-content:center;padding:20px;
}

.auth-card{
  width:100%;max-width:420px;
  background:var(--card);
  border:1px solid var(--border);
  border-top:4px solid var(--primary);
  border-radius:24px;
  padding:40px 32px;
  text-align:center;
}

.logo{
  height:42px;
  margin-bottom:14px;
}

h1{
  font-size:1.35rem;
  font-weight:800;
  margin:0 0 8px;
}

p{
  font-size:.85rem;
  color:var(--text-muted);
  margin:0 0 22px;
}

.console-msg{
  background:#0f172a;
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px;
  font-size:12px;
  font-weight:600;
  margin-bottom:18px;
  display:none;
}
.console-error{border-color:var(--error);color:var(--error)}
.console-info{border-color:var(--primary);color:var(--primary)}

.input-group{
  margin-bottom:16px;
  text-align:left;
}
.input-label{
  font-size:10px;
  font-weight:700;
  text-transform:uppercase;
  color:var(--primary);
  margin-bottom:6px;
  display:block;
}
input{
  width:100%;
  background:#0f172a;
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px 16px;
  color:#fff;
}

.btn{
  width:100%;
  padding:14px;
  border-radius:12px;
  font-weight:700;
  border:none;
  cursor:pointer;
}
.btn-primary{
  background:var(--primary);
  color:#0b1120;
}

.back-link{
  margin-top:22px;
  font-size:.85rem;
}
.back-link a{
  color:var(--primary);
  text-decoration:none;
  font-weight:700;
}
</style>
</head>

<body>

<div class="auth-card">

  <!-- LOGO (HOME LINK) -->
  <a href="https://rometrics.app/">
    <img src="rometrics-logo.png" class="logo" alt="ROMetrics Home">
  </a>

  <h1>Reset Password</h1>
  <p>Enter your account email and weâ€™ll send a reset link.</p>

  <div id="resetConsole" class="console-msg"></div>

  <div class="input-group">
    <span class="input-label">Email</span>
    <input id="resetEmail" type="email" placeholder="you@example.com">
  </div>

  <button class="btn btn-primary" id="sendReset">
    Send Reset Email
  </button>

  <div class="back-link">
    <a href="signin.html">Back to Sign In</a>
  </div>

</div>

<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-auth-compat.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {

  if (!firebase.apps.length) {
    firebase.initializeApp({
      apiKey: "AIzaSyAxMFW5gguPiiaomPbuoMc7suxHmgPEhRg",
      authDomain: "rometricsapp-1444e.firebaseapp.com",
      projectId: "rometricsapp-1444e",
      appId: "1:1016564998048:web:1d4c7e4780de0323664ec5"
    });
  }

  const auth = firebase.auth();

  const msg = (text, type="error") => {
    const el = document.getElementById("resetConsole");
    el.textContent = text;
    el.className = `console-msg console-${type}`;
    el.style.display = "block";
  };

  document.getElementById("sendReset").onclick = async () => {
    const email = resetEmail.value.trim().toLowerCase();
    if (!email) return msg("Please enter your email address.");

    try {
      await auth.sendPasswordResetEmail(email);

      msg(
        "If an account exists for this email, a reset link has been sent.",
        "info"
      );

    } catch (err) {
      console.error(err);
      msg("Unable to send reset email. Please try again.");
    }
  };

});
</script>

</body>
</html>
